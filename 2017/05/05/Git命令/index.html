<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Git | 安逸的小猫</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="git status        查看状态
git init        初始化 git 仓库
git fsck        仓库一致性检查
git gc            压缩
git status根据文件时间戳，长度判断文件是否改变，如果时间戳改变，再看内容是否改变。文件内容保存再.git/objects目录下



参数
描述




-s
查看精简状态，第一列M表示：版本库和暂存">
<meta property="og:type" content="article">
<meta property="og:title" content="Git">
<meta property="og:url" content="https://duansiman.github.io/2017/05/05/Git命令/index.html">
<meta property="og:site_name" content="安逸的小猫">
<meta property="og:description" content="git status        查看状态
git init        初始化 git 仓库
git fsck        仓库一致性检查
git gc            压缩
git status根据文件时间戳，长度判断文件是否改变，如果时间戳改变，再看内容是否改变。文件内容保存再.git/objects目录下



参数
描述




-s
查看精简状态，第一列M表示：版本库和暂存">
<meta property="og:updated_time" content="2017-07-10T11:34:26.108Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Git">
<meta name="twitter:description" content="git status        查看状态
git init        初始化 git 仓库
git fsck        仓库一致性检查
git gc            压缩
git status根据文件时间戳，长度判断文件是否改变，如果时间戳改变，再看内容是否改变。文件内容保存再.git/objects目录下



参数
描述




-s
查看精简状态，第一列M表示：版本库和暂存">
  
    <link rel="alternate" href="/atom.xml" title="安逸的小猫" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '[object Object]', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://duansiman.github.io"></form>
      </div>
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于</a>
        
      </nav>
      
    </div>
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">安逸的小猫</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">苟有恒，何必三更眠、五更起；最无益，莫过一日曝、十日寒。</a>
        </h2>
      
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Git命令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/05/Git命令/" class="article-date">
  <time datetime="2017-05-05T09:03:22.000Z" itemprop="datePublished">2017-05-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Git/">Git</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Git
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
        <pre><code>git status        查看状态
git init        初始化 git 仓库
git fsck        仓库一致性检查
git gc            压缩
</code></pre><h2 id="git-status"><a href="#git-status" class="headerlink" title="git status"></a>git status</h2><p>根据文件时间戳，长度判断文件是否改变，如果时间戳改变，再看内容是否改变。<code>文件内容保存再.git/objects目录下</code></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-s</td>
<td style="text-align:left">查看精简状态，第一列M表示：版本库和暂存区的文件比较，第二列M表示：工作区和暂存区</td>
</tr>
<tr>
<td style="text-align:left">-b</td>
<td style="text-align:left">显示当前分支名</td>
</tr>
</tbody>
</table>
<h2 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h2><pre><code>git commit -e -F .git/COMMIT_EDITIMSG        重新提交(.git/COMMIT_EDITIMSG 是上次提交日志    )
</code></pre><h2 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h2><table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">–stat</td>
<td style="text-align:left">查看提交文件变更记录</td>
</tr>
<tr>
<td style="text-align:left">–oneline,–pretty=oneline</td>
<td style="text-align:left">查看精简日志，前面显示提交哈希值前几位，后面显示全部</td>
</tr>
<tr>
<td style="text-align:left">–graph</td>
<td style="text-align:left">查看提交跟踪链(树结构显示)</td>
</tr>
<tr>
<td style="text-align:left">–pretty=raw</td>
<td style="text-align:left">显示parent属性</td>
</tr>
</tbody>
</table>
<p>git config –global alias.lg “log –graph –pretty=format:’%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset’ –abbrev-commit –date=relative”</p>
<h2 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h2><p>默认是把本地和暂存区的文件做比较</p>
<pre><code>git diff HEAD    把工作区和版本库的文件做比较
git diff --cached/--staged        把暂存区和版本库的文件做比较
</code></pre><h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a>git checkout</h2><p>默认是暂存区，覆盖工作区文件</p>
<pre><code>git checkout ./--file        撤销工作区全部文件或某个文件未提交的修改
git checkout HEAD ./&lt;file&gt;    用版本库的全部或部分文件替换暂存区和工作区中的文件
</code></pre><p>创建和切换到新的分支</p>
<pre><code>git checkout &lt;new_branch&gt; &lt;branch&gt;
</code></pre><p>切换到某个提交，是分离头指针，head指向具体提交</p>
<pre><code>git checkout 提交ID
</code></pre><p>汇总工作区、暂存区、与HEAD的差异</p>
<pre><code>git checkout
</code></pre><h2 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h2><p>没有指定提交，默认是HEAD</p>
<pre><code>git reset HEAD &lt;paths&gt;        把版本库的全部文件替换暂存区的
</code></pre><p>git reset </p>
<pre><code>--hard HEAD^        替换暂存区和工作区的全部文件(重置引用指向)
--soft HEAD^        不改变暂存区和工作区内容(仅重置引用指向)
--mixed HEAD^        重置暂存区，不改变工作区（重置引用执行，默认是这个参数）
</code></pre><h2 id="git-rm"><a href="#git-rm" class="headerlink" title="git rm"></a>git rm</h2><pre><code>git rm --cached &lt;file&gt; 从暂存区删除文件，不影响工作区
</code></pre><h2 id="git-ls-tree、ls-files"><a href="#git-ls-tree、ls-files" class="headerlink" title="git ls-tree、ls-files"></a>git ls-tree、ls-files</h2><pre><code>git ls-tree -l HEAD 查看版本库的目录树（-l显示文件大小）
git ls-files -s 查看暂存区的目录树（第三个字段表示暂存区编号）
</code></pre><p>git write-tree可以把暂存区的目录树写入git对象库，然后用git ls-tree查看。如果是tree对象，可以加上-r -t参数显示tree树内容    </p>
<h2 id="git-clean"><a href="#git-clean" class="headerlink" title="git clean"></a>git clean</h2><pre><code>git clean -fd        清除未加入版本库的文件和目录
git clean -nd        强制删除目录和文件
</code></pre><h2 id="git-statsh"><a href="#git-statsh" class="headerlink" title="git statsh"></a>git statsh</h2><p>保存工作区和暂存区的修改，然后改动全不见了。</p>
<pre><code>git stash    保存进度
save 指定说明
--patch 显示工作区和HEAD的差异
-k 不会重置暂存区
</code></pre><p>查看所以进度</p>
<pre><code>git stash list
git reflog show refs/stash
</code></pre><p>从最近保存的进度进行恢复</p>
<pre><code>git stash pop    会删除进度
[--index] 恢复工作区，且尝试恢复暂存区
git stash apply 不会删除进度
</code></pre><p>其他命令</p>
<pre><code>git stash clear 清除所有进度
git stash branch &lt;branch name&gt; &lt;stash&gt; 基于这个进度创建分支
</code></pre><h2 id="git对象"><a href="#git对象" class="headerlink" title="git对象"></a>git对象</h2><p>对象保存在.git/objects目录下，对象的40位sha1哈希值前2位作为目录，后38作为文件名</p>
<p>git cat-file</p>
<pre><code>git cat-file -t 查看对象类型
git cat-file -p    查看对象内容
</code></pre><p>git rev-parse</p>
<pre><code>git rev-parse HEAD        查看引用对应sha1哈希值
git rev-parse HEAD:file
</code></pre><p>符号</p>
<pre><code>^            指父提交
^+数字        表示第几个父提交
~+数字        指祖父提交
^{对象}        表示提交对应的对象
提交ID:file    对应提交的文件
:file        暂存区的文件
</code></pre><h2 id="git-reflog"><a href="#git-reflog" class="headerlink" title="git reflog"></a>git reflog</h2><p>.git/logs记录分支的变更，查看git config core.logallrefupdates是否开启。</p>
<pre><code>git reflog show master    查看变更记录(&lt;ref&gt;@{&lt;n&gt;}引用之前第几次改变)
</code></pre><h2 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h2><p>ssh-keygen -t rsa                    生成公钥密钥</p>
<h2 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h2><p>设置全局账号</p>
<pre><code>git config --global user.email &quot;you@example.com&quot;
git config --global user.name &quot;Your Name&quot;
</code></pre><p>设置账号</p>
<pre><code>git config  user.email &quot;you@example.com&quot;
git config  user.name &quot;Your Name&quot;
</code></pre><p>设置别名，即 git co == git checkout</p>
<pre><code>git config --global alias.co checkout   # 别名
git config --global alias.psm &apos;push origin master&apos;
</code></pre><p>默认情况下 git 用的编辑器是 vi，设置Editor使用vim                  </p>
<pre><code>git config --global core.editor &quot;vim&quot;
</code></pre><p>开启给 Git 着色</p>
<pre><code>git config --global color.ui true
</code></pre><p>设置显示中文文件名                              </p>
<pre><code>git config --global core.quotepath false
</code></pre><p>增加Git’s HTTP buffer                         </p>
<pre><code>git config http.postBuffer 524288000    
</code></pre><p>默认这些配置都在 ~/.gitconfig，可以输入 git config -l 命令查看</p>
<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><pre><code>git branch                                
    查看下本地分支情况
git branch -a                        
    查看所有分支，包括本地和远程
git branch -r                        
    查看远程分支
git branch test                        
    新建分支test
git branch -d test                    
    删除分支test
git branch -D test                    
    强制删除分支test，如果test分支没有整合
</code></pre><h2 id="版本"><a href="#版本" class="headerlink" title="版本"></a>版本</h2><pre><code>git tag                            查看版本
git tag v1.0                        贴标签，版本控制
</code></pre><h2 id="切换"><a href="#切换" class="headerlink" title="切换"></a>切换</h2><pre><code>git checkout test                    切换分支
git checkout origin/test                把远程分支test，拉到本地
git checkout -b test                    新建分支test，并切换到test分支下
git checkout v1.0                    切换到每个标签，即版本
</code></pre><h2 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h2><pre><code>git merge    test                        合并分支， 在master分支执行这命令
</code></pre><h2 id="同步"><a href="#同步" class="headerlink" title="同步"></a>同步</h2><pre><code>git push origin master                本地代码推到远程 master 分支
git push -f                                           强推，覆盖相同的内容
git pull origin master                远程最新的代码更新到本地
git clone url                        把项目 clone 到了本地
</code></pre><h2 id="关联"><a href="#关联" class="headerlink" title="关联"></a>关联</h2><pre><code>git remote add origin url                与 GitHub 上的项目进行关联,origin 是给这个项目的远程仓库起的名字
git remote remove &lt;name&gt;                 取消关联
git remote rm 分支                    删除关联
git remote -v                        当前项目有哪些远程仓库    
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://duansiman.github.io/2017/05/05/Git命令/" data-id="cj4y2qqnn0003n8lez68bozuf" class="article-share-link">分享</a>
      
      
        <a href="https://duansiman.github.io/2017/05/05/Git命令/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/05/05/Git学习/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          Git学习
        
      </div>
    </a>
  
  
    <a href="/2017/05/04/快捷键/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">快捷键</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</section>
           
    <aside id="sidebar">
  
    

  
    
    <div class="widget-wrap">
    
      <div class="widget" id="toc-widget-fixed">
      
        <strong class="toc-title">文章目录</strong>
        <div class="toc-widget-list">
              <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#git-status"><span class="toc-number">1.</span> <span class="toc-text">git status</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-commit"><span class="toc-number">2.</span> <span class="toc-text">git commit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-log"><span class="toc-number">3.</span> <span class="toc-text">git log</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-diff"><span class="toc-number">4.</span> <span class="toc-text">git diff</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-checkout"><span class="toc-number">5.</span> <span class="toc-text">git checkout</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-reset"><span class="toc-number">6.</span> <span class="toc-text">git reset</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-rm"><span class="toc-number">7.</span> <span class="toc-text">git rm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-ls-tree、ls-files"><span class="toc-number">8.</span> <span class="toc-text">git ls-tree、ls-files</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-clean"><span class="toc-number">9.</span> <span class="toc-text">git clean</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-statsh"><span class="toc-number">10.</span> <span class="toc-text">git statsh</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git对象"><span class="toc-number">11.</span> <span class="toc-text">git对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-reflog"><span class="toc-number">12.</span> <span class="toc-text">git reflog</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#授权"><span class="toc-number">13.</span> <span class="toc-text">授权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#设置"><span class="toc-number">14.</span> <span class="toc-text">设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#分支"><span class="toc-number">15.</span> <span class="toc-text">分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#版本"><span class="toc-number">16.</span> <span class="toc-text">版本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#切换"><span class="toc-number">17.</span> <span class="toc-text">切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#合并"><span class="toc-number">18.</span> <span class="toc-text">合并</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#同步"><span class="toc-number">19.</span> <span class="toc-text">同步</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关联"><span class="toc-number">20.</span> <span class="toc-text">关联</span></a></li></ol>
          </div>
      </div>
    </div>

  
    

  
    
  
    
  
    

  
    
  
</aside>

      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-left">
      &copy; 2014 - 2017 Devin&nbsp;|&nbsp;
      主题 <a href="https://github.com/giscafer/hexo-theme-cafe/" target="_blank">Cafe</a>
    </div>
     <div id="footer-right">
      联系方式&nbsp;|&nbsp;epdcsiman@163.com
    </div>
  </div>
</footer>
 <script src="/jquery/jquery.min.js"></script>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    <img class="back-to-top-btn" src="/images/fly-to-top.png"/>
<script>
// Elevator script included on the page, already.
window.onload = function() {
  var elevator = new Elevator({
    selector:'.back-to-top-btn',
    element: document.querySelector('.back-to-top-btn'),
    duration: 1000 // milliseconds
  });
}
</script>
    
<script>
  var disqus_shortname = 'epdc123';
  
  var disqus_url = 'https://duansiman.github.io/2017/05/05/Git命令/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>




 <script src="/js/is.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/elevator.js"></script>
  </div>
</body>
</html>